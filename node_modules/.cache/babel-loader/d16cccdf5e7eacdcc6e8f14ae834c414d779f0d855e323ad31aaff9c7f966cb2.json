{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect } from \"react\";\nimport { UseMealDispatch } from \"../Context/mealctx\";\nimport { actions } from \"../Context/mealReducer\";\nimport { useFiltersContext } from \"../Context/filtersCtx\";\nimport { SearchMealByName, FetchMealByFirstLetter } from \"../services/mealtService\";\nconst useMeals = () => {\n  _s();\n  const dispatch = UseMealDispatch();\n  const {\n    filters\n  } = useFiltersContext();\n  const fetchMeals = useCallback(async () => {\n    dispatch({\n      type: actions.SET_LOADING,\n      payload: true\n    });\n    try {\n      let meals;\n      if (filters.search) {\n        meals = await SearchMealByName(filters.search);\n        if (meals.length > 0) {\n          dispatch({\n            type: actions.SET_MEALS,\n            payload: meals\n          });\n        } else {\n          dispatch({\n            type: actions.SET_MEALS,\n            payload: []\n          });\n        }\n      } else {\n        meals = await FetchMealByFirstLetter();\n      }\n    } catch (error) {\n      console.error(\"Error fetching Meals: \", error);\n      dispatch({\n        type: actions.SET_MEALS,\n        payload: []\n      });\n    }\n    dispatch({\n      type: actions.SET_LOADING,\n      payload: false\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, filters]);\n  useEffect(() => {\n    fetchMeals();\n  }, [fetchMeals]);\n};\n_s(useMeals, \"xyEq8tHi1HDQqeKjr+W1/yaGD3w=\", false, function () {\n  return [useFiltersContext];\n});\nexport default useMeals;","map":{"version":3,"names":["useCallback","useEffect","UseMealDispatch","actions","useFiltersContext","SearchMealByName","FetchMealByFirstLetter","useMeals","_s","dispatch","filters","fetchMeals","type","SET_LOADING","payload","meals","search","length","SET_MEALS","error","console"],"sources":["C:/Users/tomas/OneDrive/Documentos/universidad/Semestre 8/react/DWRJS-segundo-parcial-Tomas-Candelo/src/hooks/useMeals.js"],"sourcesContent":["import { useCallback, useEffect } from \"react\";\r\nimport { UseMealDispatch } from \"../Context/mealctx\";\r\nimport { actions } from \"../Context/mealReducer\";\r\nimport { useFiltersContext } from \"../Context/filtersCtx\";\r\nimport { SearchMealByName, FetchMealByFirstLetter } from \"../services/mealtService\";\r\n\r\nconst useMeals = () => {\r\n    const dispatch = UseMealDispatch();\r\n    const { filters } = useFiltersContext();\r\n\r\n    const fetchMeals = useCallback(async () => {\r\n        dispatch({ type: actions.SET_LOADING, payload: true });\r\n\r\n        try {\r\n            let meals;\r\n            if (filters.search) {\r\n                meals = await SearchMealByName(filters.search);\r\n\r\n                if (meals.length > 0) {\r\n                    dispatch({type: actions.SET_MEALS, payload: meals });\r\n                } else {\r\n                    dispatch({type: actions.SET_MEALS, payload: []});\r\n                }\r\n            } else {\r\n                meals = await FetchMealByFirstLetter();\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching Meals: \", error);\r\n            dispatch({ type: actions.SET_MEALS, payload: []});\r\n        }\r\n\r\n        dispatch({ type: actions.SET_LOADING, payload: false});\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [dispatch, filters]);\r\n\r\n    useEffect(() => {\r\n        fetchMeals();\r\n    }, [fetchMeals]);\r\n\r\n};\r\n\r\nexport default useMeals;"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAC9C,SAASC,eAAe,QAAQ,oBAAoB;AACpD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,iBAAiB,QAAQ,uBAAuB;AACzD,SAASC,gBAAgB,EAAEC,sBAAsB,QAAQ,0BAA0B;AAEnF,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,QAAQ,GAAGP,eAAe,CAAC,CAAC;EAClC,MAAM;IAAEQ;EAAQ,CAAC,GAAGN,iBAAiB,CAAC,CAAC;EAEvC,MAAMO,UAAU,GAAGX,WAAW,CAAC,YAAY;IACvCS,QAAQ,CAAC;MAAEG,IAAI,EAAET,OAAO,CAACU,WAAW;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAEtD,IAAI;MACA,IAAIC,KAAK;MACT,IAAIL,OAAO,CAACM,MAAM,EAAE;QAChBD,KAAK,GAAG,MAAMV,gBAAgB,CAACK,OAAO,CAACM,MAAM,CAAC;QAE9C,IAAID,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;UAClBR,QAAQ,CAAC;YAACG,IAAI,EAAET,OAAO,CAACe,SAAS;YAAEJ,OAAO,EAAEC;UAAM,CAAC,CAAC;QACxD,CAAC,MAAM;UACHN,QAAQ,CAAC;YAACG,IAAI,EAAET,OAAO,CAACe,SAAS;YAAEJ,OAAO,EAAE;UAAE,CAAC,CAAC;QACpD;MACJ,CAAC,MAAM;QACHC,KAAK,GAAG,MAAMT,sBAAsB,CAAC,CAAC;MAC1C;IACJ,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CV,QAAQ,CAAC;QAAEG,IAAI,EAAET,OAAO,CAACe,SAAS;QAAEJ,OAAO,EAAE;MAAE,CAAC,CAAC;IACrD;IAEAL,QAAQ,CAAC;MAAEG,IAAI,EAAET,OAAO,CAACU,WAAW;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAC1D;EACA,CAAC,EAAE,CAACL,QAAQ,EAAEC,OAAO,CAAC,CAAC;EAEvBT,SAAS,CAAC,MAAM;IACZU,UAAU,CAAC,CAAC;EAChB,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;AAEpB,CAAC;AAACH,EAAA,CAjCID,QAAQ;EAAA,QAEUH,iBAAiB;AAAA;AAiCzC,eAAeG,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}